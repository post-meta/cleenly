# üîß –ù–ê–°–¢–†–û–ô–ö–ê ENVIRONMENT VARIABLES

## –ü—Ä–æ–±–ª–µ–º–∞: "Server error - There is a problem with the server configuration"

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∫–æ–≥–¥–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∞–π–ª `.env.local` —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ `.env.local`

–§–∞–π–ª —É–∂–µ —Å–æ–∑–¥–∞–Ω –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.

### –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç–µ Supabase credentials

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ Supabase: https://app.supabase.com
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **API**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Project URL** ‚Üí `NEXT_PUBLIC_SUPABASE_URL`
   - **anon/public key** ‚Üí `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - **service_role key** ‚Üí `SUPABASE_SERVICE_ROLE_KEY` (‚ö†Ô∏è —Å–µ–∫—Ä–µ—Ç–Ω—ã–π!)

### –®–∞–≥ 3: –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ NextAuth secret

```bash
openssl rand -base64 32
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤:
- `NEXTAUTH_SECRET`
- `AUTH_SECRET` (—Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ)

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç–µ `.env.local`

–û—Ç–∫—Ä–æ–π—Ç–µ `.env.local` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ placeholder –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ:

```env
# Supabase (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
NEXT_PUBLIC_SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=–≤–∞—à_anon_key
SUPABASE_SERVICE_ROLE_KEY=–≤–∞—à_service_role_key

# NextAuth (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=—Ä–µ–∑—É–ª—å—Ç–∞—Ç_openssl_rand_base64_32
AUTH_SECRET=—Ç–æ—Ç_–∂–µ_—Ä–µ–∑—É–ª—å—Ç–∞—Ç_openssl_rand_base64_32
```

### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev server

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
npm run dev
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/login
2. –û—à–∏–±–∫–∞ "Server error" –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å
3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Ñ–æ—Ä–º—É –ª–æ–≥–∏–Ω–∞

---

## üìã –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã –ª–æ–≥–∏–Ω–∞

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- ‚úÖ `NEXT_PUBLIC_SUPABASE_URL`
- ‚úÖ `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- ‚úÖ `SUPABASE_SERVICE_ROLE_KEY`
- ‚úÖ `NEXTAUTH_SECRET` –∏–ª–∏ `AUTH_SECRET`

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ (–¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π):
- `GOOGLE_CLIENT_ID` + `GOOGLE_CLIENT_SECRET` ‚Äî –¥–ª—è Google OAuth
- `RESEND_API_KEY` ‚Äî –¥–ª—è email magic links
- `TWILIO_*` ‚Äî –¥–ª—è SMS –ª–æ–≥–∏–Ω–∞
- `TELEGRAM_BOT_TOKEN` ‚Äî –¥–ª—è Telegram –ª–æ–≥–∏–Ω–∞

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Missing required environment variables"

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
npm run dev
```

–í—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
```
Missing required environment variables: SUPABASE_URL, AUTH_SECRET
```

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env.local`

### –û—à–∏–±–∫–∞: "Invalid Supabase credentials"

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `https://xxx.supabase.co`)
2. Keys —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)
3. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –≤ Supabase

### –õ–æ–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å–µ—Å—Å–∏—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. `NEXTAUTH_SECRET` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2. Cookies –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º
3. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `http://localhost:3000` (–Ω–µ `127.0.0.1`)

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –í–ê–ñ–ù–û:

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env.local`** –≤ Git
   - –§–∞–π–ª —É–∂–µ –≤ `.gitignore`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `git status` –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `.env.local`

2. **Service Role Key ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω—ã–π!**
   - –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ client-side –∫–æ–¥–µ
   - –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –≤ GitHub
   - –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è dev –∏ production**
   - Dev: `.env.local`
   - Production: Vercel Environment Variables

---

## üìù Checklist –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

- [ ] –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `.env.local`
- [ ] –ü–æ–ª—É—á–µ–Ω—ã Supabase credentials
- [ ] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω NEXTAUTH_SECRET
- [ ] –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
- [ ] Dev server –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/login` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ú–æ–∂–Ω–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É

---

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–ª–æ

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:**
   ```bash
   npm run dev
   ```
   –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Supabase:**
   - –ü—Ä–æ–µ–∫—Ç –∞–∫—Ç–∏–≤–µ–Ω?
   - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞?
   - –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã?

3. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à:**
   ```bash
   rm -rf .next
   npm run dev
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏:**
   ```bash
   node --version  # –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 18
   npm --version
   ```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [NextAuth.js Docs](https://next-auth.js.org/getting-started/introduction)
- [Supabase Docs](https://supabase.com/docs)
- [Environment Variables in Next.js](https://nextjs.org/docs/basic-features/environment-variables)

---

**–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –ª–æ–≥–∏–Ω –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ**
